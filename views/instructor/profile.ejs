<%- include('../partials/head') %>
    <%- include('../partials/sidebar') %>

        <div class="page-header">
            <h1>ÎÇ¥ Ï†ïÎ≥¥ ÏàòÏ†ï</h1>
            <p>Í∞ïÏÇ¨ ÌîÑÎ°úÌïÑ Î∞è Í≥ÑÏ†ï Î≥¥Ïïà ÏÑ§Ï†ïÏùÑ Í¥ÄÎ¶¨Ìï©ÎãàÎã§</p>
        </div>

        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem;">
            <!-- Profile Info Form -->
            <div class="card">
                <div class="card-header">
                    <span class="card-title">Í∏∞Î≥∏ Ï†ïÎ≥¥</span>
                </div>
                <% if (error && type==='info' ) { %>
                    <div class="alert alert-error">‚ö†Ô∏è <%= error %>
                    </div>
                    <% } %>
                        <% if (success && type==='info' ) { %>
                            <div class="alert alert-success">‚úÖ <%= success %>
                            </div>
                            <% } %>

                                <form method="POST" action="/instructor/profile">
                                    <div class="form-group">
                                        <label class="form-label">ÏïÑÏù¥Îîî</label>
                                        <input type="text" class="form-input" value="<%= user.login_id %>" disabled>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label class="form-label">Ïù¥Î¶Ñ *</label>
                                            <input type="text" name="name" class="form-input" value="<%= user.name %>"
                                                required>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">ÏòÅÎ¨∏ Ïù¥Î¶Ñ</label>
                                            <input type="text" name="name_en" class="form-input"
                                                value="<%= user.name_en || '' %>">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Ïù¥Î©îÏùº *</label>
                                        <input type="email" name="email" class="form-input"
                                            value="<%= user.email || '' %>" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ÏÜåÏÜç</label>
                                        <input type="text" name="affiliation" class="form-input"
                                            value="<%= user.affiliation || '' %>">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Ï†ÑÌôîÎ≤àÌò∏</label>
                                        <input type="tel" name="phone" class="form-input"
                                            value="<%= user.phone || '' %>" placeholder="010-0000-0000">
                                    </div>
                                    <button type="submit" class="btn btn-primary">üíæ Ï†ÄÏû•</button>
                                </form>
            </div>

            <!-- Password Change Form -->
            <div class="card">
                <div class="card-header">
                    <span class="card-title">ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω</span>
                </div>
                <% if (error && type==='password' ) { %>
                    <div class="alert alert-error">‚ö†Ô∏è <%= error %>
                    </div>
                    <% } %>
                        <% if (success && type==='password' ) { %>
                            <div class="alert alert-success">‚úÖ <%= success %>
                            </div>
                            <% } %>

                                <form method="POST" action="/instructor/profile/password">
                                    <div class="form-group">
                                        <label class="form-label">ÌòÑÏû¨ ÎπÑÎ∞ÄÎ≤àÌò∏ *</label>
                                        <input type="password" name="current_password" class="form-input" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏ *</label>
                                        <input type="password" name="new_password" class="form-input" required
                                            minlength="4">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏ *</label>
                                        <input type="password" name="confirm_password" class="form-input" required
                                            minlength="4">
                                    </div>
                                    <button type="submit" class="btn btn-warning">üîí ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω</button>
                                </form>
            </div>
        </div>

        <%- include('../partials/footer') %>