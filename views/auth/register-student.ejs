<%- include('../partials/head') %>

    <div class="auth-container">
        <div class="auth-card" style="max-width:520px;">
            <div class="auth-logo">
                <div class="brand-icon">๐</div>
                <h1>์๊ฐ์ ํ์๊ฐ์</h1>
                <p>๊ฐ์ ํ ๋ฐ๋ก ๋ก๊ทธ์ธ ๊ฐ๋ฅํฉ๋๋ค</p>
            </div>

            <% if (error) { %>
                <div class="alert alert-error">โ๏ธ <%= error %>
                </div>
                <% } %>

                    <form method="POST" action="/auth/register/student">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">์์ด๋ *</label>
                                <input type="text" name="login_id" class="form-input" placeholder="์์ด๋" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">์ด๋ฆ *</label>
                                <input type="text" name="name" class="form-input" placeholder="์ด๋ฆ" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">๋น๋ฐ๋ฒํธ *</label>
                                <input type="password" name="password" class="form-input" placeholder="๋น๋ฐ๋ฒํธ" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">๋น๋ฐ๋ฒํธ ํ์ธ *</label>
                                <input type="password" name="password_confirm" class="form-input" placeholder="๋น๋ฐ๋ฒํธ ํ์ธ"
                                    required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">์๋ฌธ ์ด๋ฆ *</label>
                                <input type="text" name="name_en" class="form-input" placeholder="English Name"
                                    required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">์ด๋ฉ์ผ *</label>
                                <input type="email" name="email" class="form-input" placeholder="email@example.com"
                                    required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">์์ *</label>
                            <input type="text" name="affiliation" class="form-input" placeholder="์์" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">์ํ๋ฒํธ *</label>
                                <input type="tel" name="phone" id="phone" class="form-input" placeholder="010-0000-0000"
                                    maxlength="13" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">์๋์์ผ *</label>
                                <input type="text" name="birth_date" id="birth_date" class="form-input"
                                    placeholder="YY/MM/DD" maxlength="8" required>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary"
                            style="width:100%; justify-content:center; padding:0.75rem;">ํ์๊ฐ์</button>
                    </form>

                    <div class="auth-footer">
                        <a href="/auth/login">โ ๋ก๊ทธ์ธ์ผ๋ก ๋์๊ฐ๊ธฐ</a>
                    </div>
        </div>
    </div>

    <script>
        // Auto-format phone: 01087059427 โ 010-8705-9427
        document.getElementById('phone').addEventListener('input', function (e) {
            let digits = this.value.replace(/\D/g, '');
            if (digits.length > 11) digits = digits.slice(0, 11);
            let formatted = '';
            if (digits.length <= 3) {
                formatted = digits;
            } else if (digits.length <= 7) {
                formatted = digits.slice(0, 3) + '-' + digits.slice(3);
            } else {
                formatted = digits.slice(0, 3) + '-' + digits.slice(3, 7) + '-' + digits.slice(7);
            }
            this.value = formatted;
        });

        // Auto-format birth_date: 760922 โ 76/09/22
        document.getElementById('birth_date').addEventListener('input', function (e) {
            let digits = this.value.replace(/\D/g, '');
            if (digits.length > 6) digits = digits.slice(0, 6);
            let formatted = '';
            if (digits.length <= 2) {
                formatted = digits;
            } else if (digits.length <= 4) {
                formatted = digits.slice(0, 2) + '/' + digits.slice(2);
            } else {
                formatted = digits.slice(0, 2) + '/' + digits.slice(2, 4) + '/' + digits.slice(4);
            }
            this.value = formatted;
        });
    </script>
    </body>

    </html>